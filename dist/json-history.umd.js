!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var i=n(2);function r(t){return!0===i(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==r(t)&&("function"==typeof(e=t.constructor)&&(!1!==r(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(t,e){var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};n.Diff=function(t,e){return[t,e]},n.prototype.diff_main=function(t,e,i,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var s=r;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[new n.Diff(0,t)]:[];void 0===i&&(i=!0);var a=i,f=this.diff_commonPrefix(t,e),o=t.substring(0,f);t=t.substring(f),e=e.substring(f),f=this.diff_commonSuffix(t,e);var l=t.substring(t.length-f);t=t.substring(0,t.length-f),e=e.substring(0,e.length-f);var h=this.diff_compute_(t,e,a,s);return o&&h.unshift(new n.Diff(0,o)),l&&h.push(new n.Diff(0,l)),this.diff_cleanupMerge(h),h},n.prototype.diff_compute_=function(t,e,i,r){var s;if(!t)return[new n.Diff(1,e)];if(!e)return[new n.Diff(-1,t)];var a=t.length>e.length?t:e,f=t.length>e.length?e:t,o=a.indexOf(f);if(-1!=o)return s=[new n.Diff(1,a.substring(0,o)),new n.Diff(0,f),new n.Diff(1,a.substring(o+f.length))],t.length>e.length&&(s[0][0]=s[2][0]=-1),s;if(1==f.length)return[new n.Diff(-1,t),new n.Diff(1,e)];var l=this.diff_halfMatch_(t,e);if(l){var h=l[0],c=l[1],u=l[2],d=l[3],p=l[4],g=this.diff_main(h,u,i,r),v=this.diff_main(c,d,i,r);return g.concat([new n.Diff(0,p)],v)}return i&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},n.prototype.diff_lineMode_=function(t,e,i){var r=this.diff_linesToChars_(t,e);t=r.chars1,e=r.chars2;var s=r.lineArray,a=this.diff_main(t,e,!1,i);this.diff_charsToLines_(a,s),this.diff_cleanupSemantic(a),a.push(new n.Diff(0,""));for(var f=0,o=0,l=0,h="",c="";f<a.length;){switch(a[f][0]){case 1:l++,c+=a[f][1];break;case-1:o++,h+=a[f][1];break;case 0:if(o>=1&&l>=1){a.splice(f-o-l,o+l),f=f-o-l;for(var u=this.diff_main(h,c,!1,i),d=u.length-1;d>=0;d--)a.splice(f,0,u[d]);f+=u.length}l=0,o=0,h="",c=""}f++}return a.pop(),a},n.prototype.diff_bisect_=function(t,e,i){for(var r=t.length,s=e.length,a=Math.ceil((r+s)/2),f=a,o=2*a,l=new Array(o),h=new Array(o),c=0;c<o;c++)l[c]=-1,h[c]=-1;l[f+1]=0,h[f+1]=0;for(var u=r-s,d=u%2!=0,p=0,g=0,v=0,b=0,y=0;y<a&&!((new Date).getTime()>i);y++){for(var _=-y+p;_<=y-g;_+=2){for(var m=f+_,x=(M=_==-y||_!=y&&l[m-1]<l[m+1]?l[m+1]:l[m-1]+1)-_;M<r&&x<s&&t.charAt(M)==e.charAt(x);)M++,x++;if(l[m]=M,M>r)g+=2;else if(x>s)p+=2;else if(d){if((k=f+u-_)>=0&&k<o&&-1!=h[k])if(M>=(D=r-h[k]))return this.diff_bisectSplit_(t,e,M,x,i)}}for(var w=-y+v;w<=y-b;w+=2){for(var D,k=f+w,R=(D=w==-y||w!=y&&h[k-1]<h[k+1]?h[k+1]:h[k-1]+1)-w;D<r&&R<s&&t.charAt(r-D-1)==e.charAt(s-R-1);)D++,R++;if(h[k]=D,D>r)b+=2;else if(R>s)v+=2;else if(!d){if((m=f+u-w)>=0&&m<o&&-1!=l[m]){var M;x=f+(M=l[m])-m;if(M>=(D=r-D))return this.diff_bisectSplit_(t,e,M,x,i)}}}}return[new n.Diff(-1,t),new n.Diff(1,e)]},n.prototype.diff_bisectSplit_=function(t,e,n,i,r){var s=t.substring(0,n),a=e.substring(0,i),f=t.substring(n),o=e.substring(i),l=this.diff_main(s,a,!1,r),h=this.diff_main(f,o,!1,r);return l.concat(h)},n.prototype.diff_linesToChars_=function(t,e){var n=[],i={};function r(t){for(var e="",r=0,a=-1,f=n.length;a<t.length-1;){-1==(a=t.indexOf("\n",r))&&(a=t.length-1);var o=t.substring(r,a+1);(i.hasOwnProperty?i.hasOwnProperty(o):void 0!==i[o])?e+=String.fromCharCode(i[o]):(f==s&&(o=t.substring(r),a=t.length),e+=String.fromCharCode(f),i[o]=f,n[f++]=o),r=a+1}return e}n[0]="";var s=4e4,a=r(t);return s=65535,{chars1:a,chars2:r(e),lineArray:n}},n.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n][1],r=[],s=0;s<i.length;s++)r[s]=e[i.charCodeAt(s)];t[n][1]=r.join("")}},n.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,s=0;n<r;)t.substring(s,r)==e.substring(s,r)?s=n=r:i=r,r=Math.floor((i-n)/2+n);return r},n.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,s=0;n<r;)t.substring(t.length-r,t.length-s)==e.substring(e.length-r,e.length-s)?s=n=r:i=r,r=Math.floor((i-n)/2+n);return r},n.prototype.diff_commonOverlap_=function(t,e){var n=t.length,i=e.length;if(0==n||0==i)return 0;n>i?t=t.substring(n-i):n<i&&(e=e.substring(0,n));var r=Math.min(n,i);if(t==e)return r;for(var s=0,a=1;;){var f=t.substring(r-a),o=e.indexOf(f);if(-1==o)return s;a+=o,0!=o&&t.substring(r-a)!=e.substring(0,a)||(s=a,a++)}},n.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;var r=this;function s(t,e,n){for(var i,s,a,f,o=t.substring(n,n+Math.floor(t.length/4)),l=-1,h="";-1!=(l=e.indexOf(o,l+1));){var c=r.diff_commonPrefix(t.substring(n),e.substring(l)),u=r.diff_commonSuffix(t.substring(0,n),e.substring(0,l));h.length<u+c&&(h=e.substring(l-u,l)+e.substring(l,l+c),i=t.substring(0,n-u),s=t.substring(n+c),a=e.substring(0,l-u),f=e.substring(l+c))}return 2*h.length>=t.length?[i,s,a,f,h]:null}var a,f,o,l,h,c=s(n,i,Math.ceil(n.length/4)),u=s(n,i,Math.ceil(n.length/2));return c||u?(a=u?c&&c[4].length>u[4].length?c:u:c,t.length>e.length?(f=a[0],o=a[1],l=a[2],h=a[3]):(l=a[0],h=a[1],f=a[2],o=a[3]),[f,o,l,h,a[4]]):null},n.prototype.diff_cleanupSemantic=function(t){for(var e=!1,i=[],r=0,s=null,a=0,f=0,o=0,l=0,h=0;a<t.length;)0==t[a][0]?(i[r++]=a,f=l,o=h,l=0,h=0,s=t[a][1]):(1==t[a][0]?l+=t[a][1].length:h+=t[a][1].length,s&&s.length<=Math.max(f,o)&&s.length<=Math.max(l,h)&&(t.splice(i[r-1],0,new n.Diff(-1,s)),t[i[r-1]+1][0]=1,r--,a=--r>0?i[r-1]:-1,f=0,o=0,l=0,h=0,s=null,e=!0)),a++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),a=1;a<t.length;){if(-1==t[a-1][0]&&1==t[a][0]){var c=t[a-1][1],u=t[a][1],d=this.diff_commonOverlap_(c,u),p=this.diff_commonOverlap_(u,c);d>=p?(d>=c.length/2||d>=u.length/2)&&(t.splice(a,0,new n.Diff(0,u.substring(0,d))),t[a-1][1]=c.substring(0,c.length-d),t[a+1][1]=u.substring(d),a++):(p>=c.length/2||p>=u.length/2)&&(t.splice(a,0,new n.Diff(0,c.substring(0,p))),t[a-1][0]=1,t[a-1][1]=u.substring(0,u.length-p),t[a+1][0]=-1,t[a+1][1]=c.substring(p),a++),a++}a++}},n.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var i=t.charAt(t.length-1),r=e.charAt(0),s=i.match(n.nonAlphaNumericRegex_),a=r.match(n.nonAlphaNumericRegex_),f=s&&i.match(n.whitespaceRegex_),o=a&&r.match(n.whitespaceRegex_),l=f&&i.match(n.linebreakRegex_),h=o&&r.match(n.linebreakRegex_),c=l&&t.match(n.blanklineEndRegex_),u=h&&e.match(n.blanklineStartRegex_);return c||u?5:l||h?4:s&&!f&&o?3:f||o?2:s||a?1:0}for(var i=1;i<t.length-1;){if(0==t[i-1][0]&&0==t[i+1][0]){var r=t[i-1][1],s=t[i][1],a=t[i+1][1],f=this.diff_commonSuffix(r,s);if(f){var o=s.substring(s.length-f);r=r.substring(0,r.length-f),s=o+s.substring(0,s.length-f),a=o+a}for(var l=r,h=s,c=a,u=e(r,s)+e(s,a);s.charAt(0)===a.charAt(0);){r+=s.charAt(0),s=s.substring(1)+a.charAt(0),a=a.substring(1);var d=e(r,s)+e(s,a);d>=u&&(u=d,l=r,h=s,c=a)}t[i-1][1]!=l&&(l?t[i-1][1]=l:(t.splice(i-1,1),i--),t[i][1]=h,c?t[i+1][1]=c:(t.splice(i+1,1),i--))}i++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,i=[],r=0,s=null,a=0,f=!1,o=!1,l=!1,h=!1;a<t.length;)0==t[a][0]?(t[a][1].length<this.Diff_EditCost&&(l||h)?(i[r++]=a,f=l,o=h,s=t[a][1]):(r=0,s=null),l=h=!1):(-1==t[a][0]?h=!0:l=!0,s&&(f&&o&&l&&h||s.length<this.Diff_EditCost/2&&f+o+l+h==3)&&(t.splice(i[r-1],0,new n.Diff(-1,s)),t[i[r-1]+1][0]=1,r--,s=null,f&&o?(l=h=!0,r=0):(a=--r>0?i[r-1]:-1,l=h=!1),e=!0)),a++;e&&this.diff_cleanupMerge(t)},n.prototype.diff_cleanupMerge=function(t){t.push(new n.Diff(0,""));for(var e,i=0,r=0,s=0,a="",f="";i<t.length;)switch(t[i][0]){case 1:s++,f+=t[i][1],i++;break;case-1:r++,a+=t[i][1],i++;break;case 0:r+s>1?(0!==r&&0!==s&&(0!==(e=this.diff_commonPrefix(f,a))&&(i-r-s>0&&0==t[i-r-s-1][0]?t[i-r-s-1][1]+=f.substring(0,e):(t.splice(0,0,new n.Diff(0,f.substring(0,e))),i++),f=f.substring(e),a=a.substring(e)),0!==(e=this.diff_commonSuffix(f,a))&&(t[i][1]=f.substring(f.length-e)+t[i][1],f=f.substring(0,f.length-e),a=a.substring(0,a.length-e))),i-=r+s,t.splice(i,r+s),a.length&&(t.splice(i,0,new n.Diff(-1,a)),i++),f.length&&(t.splice(i,0,new n.Diff(1,f)),i++),i++):0!==i&&0==t[i-1][0]?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,s=0,r=0,a="",f=""}""===t[t.length-1][1]&&t.pop();var o=!1;for(i=1;i<t.length-1;)0==t[i-1][0]&&0==t[i+1][0]&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),o=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),o=!0)),i++;o&&this.diff_cleanupMerge(t)},n.prototype.diff_xIndex=function(t,e){var n,i=0,r=0,s=0,a=0;for(n=0;n<t.length&&(1!==t[n][0]&&(i+=t[n][1].length),-1!==t[n][0]&&(r+=t[n][1].length),!(i>e));n++)s=i,a=r;return t.length!=n&&-1===t[n][0]?a:a+(e-s)},n.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,i=/</g,r=/>/g,s=/\n/g,a=0;a<t.length;a++){var f=t[a][0],o=t[a][1].replace(n,"&amp;").replace(i,"&lt;").replace(r,"&gt;").replace(s,"&para;<br>");switch(f){case 1:e[a]='<ins style="background:#e6ffe6;">'+o+"</ins>";break;case-1:e[a]='<del style="background:#ffe6e6;">'+o+"</del>";break;case 0:e[a]="<span>"+o+"</span>"}}return e.join("")},n.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_levenshtein=function(t){for(var e=0,n=0,i=0,r=0;r<t.length;r++){var s=t[r][0],a=t[r][1];switch(s){case 1:n+=a.length;break;case-1:i+=a.length;break;case 0:e+=Math.max(n,i),n=0,i=0}}return e+=Math.max(n,i)},n.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(t,e){for(var i=[],r=0,s=0,a=e.split(/\t/g),f=0;f<a.length;f++){var o=a[f].substring(1);switch(a[f].charAt(0)){case"+":try{i[r++]=new n.Diff(1,decodeURI(o))}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+o)}break;case"-":case"=":var l=parseInt(o,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+o);var h=t.substring(s,s+=l);"="==a[f].charAt(0)?i[r++]=new n.Diff(0,h):i[r++]=new n.Diff(-1,h);break;default:if(a[f])throw new Error("Invalid diff operation in diff_fromDelta: "+a[f])}}if(s!=t.length)throw new Error("Delta length ("+s+") does not equal source text length ("+t.length+").");return i},n.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},n.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(e),r=this;function s(t,i){var s=t/e.length,a=Math.abs(n-i);return r.Match_Distance?s+a/r.Match_Distance:a?1:s}var a=this.Match_Threshold,f=t.indexOf(e,n);-1!=f&&(a=Math.min(s(0,f),a),-1!=(f=t.lastIndexOf(e,n+e.length))&&(a=Math.min(s(0,f),a)));var o,l,h=1<<e.length-1;f=-1;for(var c,u=e.length+t.length,d=0;d<e.length;d++){for(o=0,l=u;o<l;)s(d,n+l)<=a?o=l:u=l,l=Math.floor((u-o)/2+o);u=l;var p=Math.max(1,n-l+1),g=Math.min(n+l,t.length)+e.length,v=Array(g+2);v[g+1]=(1<<d)-1;for(var b=g;b>=p;b--){var y=i[t.charAt(b-1)];if(v[b]=0===d?(v[b+1]<<1|1)&y:(v[b+1]<<1|1)&y|(c[b+1]|c[b])<<1|1|c[b+1],v[b]&h){var _=s(d,b-1);if(_<=a){if(a=_,!((f=b-1)>n))break;p=Math.max(1,2*n-f)}}}if(s(d+1,n)>a)break;c=v}return f},n.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},n.prototype.patch_addContext_=function(t,e){if(0!=e.length){if(null===t.start2)throw Error("patch not initialized");for(var i=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(i)!=e.lastIndexOf(i)&&i.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,i=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin;var s=e.substring(t.start2-r,t.start2);s&&t.diffs.unshift(new n.Diff(0,s));var a=e.substring(t.start2+t.length1,t.start2+t.length1+r);a&&t.diffs.push(new n.Diff(0,a)),t.start1-=s.length,t.start2-=s.length,t.length1+=s.length+a.length,t.length2+=s.length+a.length}},n.prototype.patch_make=function(t,e,i){var r,s;if("string"==typeof t&&"string"==typeof e&&void 0===i)r=t,(s=this.diff_main(r,e,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(t&&"object"==typeof t&&void 0===e&&void 0===i)s=t,r=this.diff_text1(s);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===i)r=t,s=e;else{if("string"!=typeof t||"string"!=typeof e||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");r=t,s=i}if(0===s.length)return[];for(var a=[],f=new n.patch_obj,o=0,l=0,h=0,c=r,u=r,d=0;d<s.length;d++){var p=s[d][0],g=s[d][1];switch(o||0===p||(f.start1=l,f.start2=h),p){case 1:f.diffs[o++]=s[d],f.length2+=g.length,u=u.substring(0,h)+g+u.substring(h);break;case-1:f.length1+=g.length,f.diffs[o++]=s[d],u=u.substring(0,h)+u.substring(h+g.length);break;case 0:g.length<=2*this.Patch_Margin&&o&&s.length!=d+1?(f.diffs[o++]=s[d],f.length1+=g.length,f.length2+=g.length):g.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(f,c),a.push(f),f=new n.patch_obj,o=0,c=u,l=h)}1!==p&&(l+=g.length),-1!==p&&(h+=g.length)}return o&&(this.patch_addContext_(f,c),a.push(f)),a},n.prototype.patch_deepCopy=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i],s=new n.patch_obj;s.diffs=[];for(var a=0;a<r.diffs.length;a++)s.diffs[a]=new n.Diff(r.diffs[a][0],r.diffs[a][1]);s.start1=r.start1,s.start2=r.start2,s.length1=r.length1,s.length2=r.length2,e[i]=s}return e},n.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var i=0,r=[],s=0;s<t.length;s++){var a,f,o=t[s].start2+i,l=this.diff_text1(t[s].diffs),h=-1;if(l.length>this.Match_MaxBits?-1!=(a=this.match_main(e,l.substring(0,this.Match_MaxBits),o))&&(-1==(h=this.match_main(e,l.substring(l.length-this.Match_MaxBits),o+l.length-this.Match_MaxBits))||a>=h)&&(a=-1):a=this.match_main(e,l,o),-1==a)r[s]=!1,i-=t[s].length2-t[s].length1;else if(r[s]=!0,i=a-o,l==(f=-1==h?e.substring(a,a+l.length):e.substring(a,h+this.Match_MaxBits)))e=e.substring(0,a)+this.diff_text2(t[s].diffs)+e.substring(a+l.length);else{var c=this.diff_main(l,f,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(c)/l.length>this.Patch_DeleteThreshold)r[s]=!1;else{this.diff_cleanupSemanticLossless(c);for(var u,d=0,p=0;p<t[s].diffs.length;p++){var g=t[s].diffs[p];0!==g[0]&&(u=this.diff_xIndex(c,d)),1===g[0]?e=e.substring(0,a+u)+g[1]+e.substring(a+u):-1===g[0]&&(e=e.substring(0,a+u)+e.substring(a+this.diff_xIndex(c,d+g[1].length))),-1!==g[0]&&(d+=g[1].length)}}}}return[e=e.substring(n.length,e.length-n.length),r]},n.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,i="",r=1;r<=e;r++)i+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var s=t[0],a=s.diffs;if(0==a.length||0!=a[0][0])a.unshift(new n.Diff(0,i)),s.start1-=e,s.start2-=e,s.length1+=e,s.length2+=e;else if(e>a[0][1].length){var f=e-a[0][1].length;a[0][1]=i.substring(a[0][1].length)+a[0][1],s.start1-=f,s.start2-=f,s.length1+=f,s.length2+=f}if(0==(a=(s=t[t.length-1]).diffs).length||0!=a[a.length-1][0])a.push(new n.Diff(0,i)),s.length1+=e,s.length2+=e;else if(e>a[a.length-1][1].length){f=e-a[a.length-1][1].length;a[a.length-1][1]+=i.substring(0,f),s.length1+=f,s.length2+=f}return i},n.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,i=0;i<t.length;i++)if(!(t[i].length1<=e)){var r=t[i];t.splice(i--,1);for(var s=r.start1,a=r.start2,f="";0!==r.diffs.length;){var o=new n.patch_obj,l=!0;for(o.start1=s-f.length,o.start2=a-f.length,""!==f&&(o.length1=o.length2=f.length,o.diffs.push(new n.Diff(0,f)));0!==r.diffs.length&&o.length1<e-this.Patch_Margin;){var h=r.diffs[0][0],c=r.diffs[0][1];1===h?(o.length2+=c.length,a+=c.length,o.diffs.push(r.diffs.shift()),l=!1):-1===h&&1==o.diffs.length&&0==o.diffs[0][0]&&c.length>2*e?(o.length1+=c.length,s+=c.length,l=!1,o.diffs.push(new n.Diff(h,c)),r.diffs.shift()):(c=c.substring(0,e-o.length1-this.Patch_Margin),o.length1+=c.length,s+=c.length,0===h?(o.length2+=c.length,a+=c.length):l=!1,o.diffs.push(new n.Diff(h,c)),c==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(c.length))}f=(f=this.diff_text2(o.diffs)).substring(f.length-this.Patch_Margin);var u=this.diff_text1(r.diffs).substring(0,this.Patch_Margin);""!==u&&(o.length1+=u.length,o.length2+=u.length,0!==o.diffs.length&&0===o.diffs[o.diffs.length-1][0]?o.diffs[o.diffs.length-1][1]+=u:o.diffs.push(new n.Diff(0,u))),l||t.splice(++i,0,o)}}},n.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},n.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var i=t.split("\n"),r=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;r<i.length;){var a=i[r].match(s);if(!a)throw new Error("Invalid patch string: "+i[r]);var f=new n.patch_obj;for(e.push(f),f.start1=parseInt(a[1],10),""===a[2]?(f.start1--,f.length1=1):"0"==a[2]?f.length1=0:(f.start1--,f.length1=parseInt(a[2],10)),f.start2=parseInt(a[3],10),""===a[4]?(f.start2--,f.length2=1):"0"==a[4]?f.length2=0:(f.start2--,f.length2=parseInt(a[4],10)),r++;r<i.length;){var o=i[r].charAt(0);try{var l=decodeURI(i[r].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==o)f.diffs.push(new n.Diff(-1,l));else if("+"==o)f.diffs.push(new n.Diff(1,l));else if(" "==o)f.diffs.push(new n.Diff(0,l));else{if("@"==o)break;if(""!==o)throw new Error('Invalid patch mode "'+o+'" in: '+l)}r++}}return e},(n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=n,t.exports.diff_match_patch=n,t.exports.DIFF_DELETE=-1,t.exports.DIFF_INSERT=1,t.exports.DIFF_EQUAL=0},function(t,e,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return vt}));var i=n(1),r=n.n(i),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},h=function(){function t(e){a(this,t),this.selfOptions=e||{},this.pipes={}}return f(t,[{key:"options",value:function(t){return t&&(this.selfOptions=t),this.selfOptions}},{key:"pipe",value:function(t,e){var n=e;if("string"==typeof t){if(void 0===n)return this.pipes[t];this.pipes[t]=n}if(t&&t.name){if(n=t,n.processor===this)return n;this.pipes[n.name]=n}return n.processor=this,n}},{key:"process",value:function(t,e){var n=t;n.options=this.options();for(var i=e||t.pipe||"default",r=void 0,s=void 0;i;)void 0!==n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"==typeof i&&(i=this.pipe(i)),i.process(n),s=n,r=i,i=null,n&&n.next&&(n=n.next,i=s.nextPipe||n.pipe||r);return n.hasResult?n.result:void 0}}]),t}(),c=function(){function t(e){a(this,t),this.name=e,this.filters=[]}return f(t,[{key:"process",value:function(t){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var e=this.debug,n=this.filters.length,i=t,r=0;r<n;r++){var a=this.filters[r];if(e&&this.log("filter: "+a.filterName),a(i),"object"===(void 0===i?"undefined":s(i))&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)}},{key:"log",value:function(t){console.log("[jsondiffpatch] "+this.name+" pipe, "+t)}},{key:"append",value:function(){var t;return(t=this.filters).push.apply(t,arguments),this}},{key:"prepend",value:function(){var t;return(t=this.filters).unshift.apply(t,arguments),this}},{key:"indexOf",value:function(t){if(!t)throw new Error("a filter name is required");for(var e=0;e<this.filters.length;e++){if(this.filters[e].filterName===t)return e}throw new Error("filter not found: "+t)}},{key:"list",value:function(){return this.filters.map((function(t){return t.filterName}))}},{key:"after",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e+1,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"before",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"replace",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,1),Array.prototype.splice.apply(this.filters,n),this}},{key:"remove",value:function(t){var e=this.indexOf(t);return this.filters.splice(e,1),this}},{key:"clear",value:function(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function(t){if(!1!==t){if(!this.resultCheck){var e=this;return this.resultCheck=function(t){if(!t.hasResult){console.log(t);var n=new Error(e.name+" failed");throw n.noResult=!0,n}},this}}else this.resultCheck=null}}]),t}(),u=function(){function t(){a(this,t)}return f(t,[{key:"setResult",value:function(t){return this.result=t,this.hasResult=!0,this}},{key:"exit",value:function(){return this.exiting=!0,this}},{key:"switchTo",value:function(t,e){return"string"==typeof t||t instanceof c?this.nextPipe=t:(this.next=t,e&&(this.nextPipe=e)),this}},{key:"push",value:function(t,e){return t.parent=this,void 0!==e&&(t.childName=e),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this}},{key:"set",value:function(t,e){this.options.setter?this.options.setter(this.left,t,e):this.left[t]=e}},{key:"delete",value:function(t){this.options.deleter?this.options.deleter(this.left,t):delete this.left[t]}}]),t}(),d="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array};function p(t){if("object"!==(void 0===t?"undefined":s(t)))return t;if(null===t)return null;if(d(t))return t.map(p);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString()),new RegExp(e[1],e[2]);var e,n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=p(t[i]));return n}var g=function(t){function e(t,n){a(this,e);var i=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.left=t,i.right=n,i.pipe="diff",i}return o(e,t),f(e,[{key:"setResult",value:function(t){if(this.options.cloneDiffValues&&"object"===(void 0===t?"undefined":s(t))){var e="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:p;"object"===s(t[0])&&(t[0]=e(t[0])),"object"===s(t[1])&&(t[1]=e(t[1]))}return u.prototype.setResult.apply(this,arguments)}}]),e}(u),v=function(t){function e(t,n){a(this,e);var i=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.left=t,i.delta=n,i.pipe="patch",i}return o(e,t),e}(u),b=function(t){function e(t){a(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.delta=t,n.pipe="reverse",n}return o(e,t),e}(u),y="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},_=function(t){if(t.left!==t.right)if(void 0!==t.left)if(void 0!==t.right){if("function"==typeof t.left||"function"==typeof t.right)throw new Error("functions are not supported");t.leftType=null===t.left?"null":s(t.left),t.rightType=null===t.right?"null":s(t.right),t.leftType===t.rightType&&"boolean"!==t.leftType&&"number"!==t.leftType?("object"===t.leftType&&(t.leftIsArray=y(t.left)),"object"===t.rightType&&(t.rightIsArray=y(t.right)),t.leftIsArray===t.rightIsArray?t.left instanceof RegExp&&(t.right instanceof RegExp?t.setResult([t.left.toString(),t.right.toString()]).exit():t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()}else t.setResult([t.left,0,0]).exit();else{if("function"==typeof t.right)throw new Error("functions are not supported");t.setResult([t.right]).exit()}else t.setResult(void 0).exit()};_.filterName="trivial";var m=function(t){if(void 0!==t.delta){if(t.nested=!y(t.delta),!t.nested)if(1!==t.delta.length)if(2!==t.delta.length)3===t.delta.length&&0===t.delta[2]&&t.setResult(void 0).exit();else{if(t.left instanceof RegExp){var e=/^\/(.*)\/([gimyu]+)$/.exec(t.delta[1]);if(e)return void t.setResult(new RegExp(e[1],e[2])).exit()}t.setResult(t.delta[1]).exit()}else t.setResult(t.delta[0]).exit()}else t.setResult(t.left).exit()};m.filterName="trivial";var x=function(t){void 0!==t.delta?(t.nested=!y(t.delta),t.nested||(1!==t.delta.length?2!==t.delta.length?3===t.delta.length&&0===t.delta[2]&&t.setResult([t.delta[0]]).exit():t.setResult([t.delta[1],t.delta[0]]).exit():t.setResult([t.delta[0],0,0]).exit())):t.setResult(t.delta).exit()};function w(t){if(t&&t.children){for(var e=t.children.length,n=void 0,i=t.result,r=0;r<e;r++)void 0!==(n=t.children[r]).result&&((i=i||{})[n.childName]=n.result);i&&t.leftIsArray&&(i._t="a"),t.setResult(i).exit()}}function D(t){if(!t.leftIsArray&&"object"===t.leftType){var e=void 0,n=void 0,i=t.options.propertyFilter;for(e in t.left)Object.prototype.hasOwnProperty.call(t.left,e)&&(i&&!i(e,t)||(n=new g(t.left[e],t.right[e]),t.push(n,e)));for(e in t.right)Object.prototype.hasOwnProperty.call(t.right,e)&&(i&&!i(e,t)||void 0===t.left[e]&&(n=new g(void 0,t.right[e]),t.push(n,e)));t.children&&0!==t.children.length?t.exit():t.setResult(void 0).exit()}}x.filterName="trivial",w.filterName="collectChildren",D.filterName="objects";var k=function(t){if(t.nested&&!t.delta._t){var e=void 0,n=void 0;for(e in t.delta)n=new v(t.left[e],t.delta[e]),t.push(n,e);t.exit()}};k.filterName="objects";var R=function(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,n=void 0,i=0;i<e;i++)n=t.children[i],Object.prototype.hasOwnProperty.call(t.left,n.childName)&&void 0===n.result?t.delete(n.childName):t.left[n.childName]!==n.result&&t.set(n.childName,n.result);t.setResult(t.left).exit()}};R.filterName="collectChildren";var M=function(t){if(t.nested&&!t.delta._t){var e=void 0,n=void 0;for(e in t.delta)n=new b(t.delta[e]),t.push(n,e);t.exit()}};function A(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,n=void 0,i={},r=0;r<e;r++)i[(n=t.children[r]).childName]!==n.result&&(i[n.childName]=n.result);t.setResult(i).exit()}}M.filterName="objects",A.filterName="collectChildren";var j=function(t,e,n,i){return t[n]===e[i]},E=function(t,e,n,i){var r=i||{},s=function(t,e,n,i){for(var r=e.length,s=n.length,a={sequence:[],indices1:[],indices2:[]};0!==r&&0!==s;){if(t.match(e,n,r-1,s-1,i))a.sequence.unshift(e[r-1]),a.indices1.unshift(r-1),a.indices2.unshift(s-1),--r,--s;else t[r][s-1]>t[r-1][s]?--s:--r}return a}(function(t,e,n,i){var r=t.length,s=e.length,a=void 0,f=void 0,o=[r+1];for(a=0;a<r+1;a++)for(o[a]=[s+1],f=0;f<s+1;f++)o[a][f]=0;for(o.match=n,a=1;a<r+1;a++)for(f=1;f<s+1;f++)n(t,e,a-1,f-1,i)?o[a][f]=o[a-1][f-1]+1:o[a][f]=Math.max(o[a-1][f],o[a][f-1]);return o}(t,e,n||j,r),t,e,r);return"string"==typeof t&&"string"==typeof e&&(s.sequence=s.sequence.join("")),s},O="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},C="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]===e)return i;return-1};function P(t,e,n,i,r){var a=t[n],f=e[i];if(a===f)return!0;if("object"!==(void 0===a?"undefined":s(a))||"object"!==(void 0===f?"undefined":s(f)))return!1;var o=r.objectHash;if(!o)return r.matchByPosition&&n===i;var l=void 0,h=void 0;return"number"==typeof n?(r.hashCache1=r.hashCache1||[],void 0===(l=r.hashCache1[n])&&(r.hashCache1[n]=l=o(a,n))):l=o(a),void 0!==l&&("number"==typeof i?(r.hashCache2=r.hashCache2||[],void 0===(h=r.hashCache2[i])&&(r.hashCache2[i]=h=o(f,i))):h=o(f),void 0!==h&&l===h)}var T=function(t){if(t.leftIsArray){var e={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition},n=0,i=0,r=void 0,s=void 0,a=void 0,f=t.left,o=t.right,l=f.length,h=o.length,c=void 0;for(l>0&&h>0&&!e.objectHash&&"boolean"!=typeof e.matchByPosition&&(e.matchByPosition=!function(t,e,n,i){for(var r=0;r<n;r++)for(var s=t[r],a=0;a<i;a++){var f=e[a];if(r!==a&&s===f)return!0}}(f,o,l,h));n<l&&n<h&&P(f,o,n,n,e);)r=n,c=new g(t.left[r],t.right[r]),t.push(c,r),n++;for(;i+n<l&&i+n<h&&P(f,o,l-1-i,h-1-i,e);)s=l-1-i,a=h-1-i,c=new g(t.left[s],t.right[a]),t.push(c,a),i++;var u=void 0;if(n+i!==l)if(n+i!==h){delete e.hashCache1,delete e.hashCache2;var d=f.slice(n,l-i),p=o.slice(n,h-i),v=E(d,p,P,e),b=[];for(u=u||{_t:"a"},r=n;r<l-i;r++)C(v.indices1,r-n)<0&&(u["_"+r]=[f[r],0,0],b.push(r));var y=!0;t.options&&t.options.arrays&&!1===t.options.arrays.detectMove&&(y=!1);var _=!1;t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove&&(_=!0);var m=b.length;for(r=n;r<h-i;r++){var x=C(v.indices2,r-n);if(x<0){var w=!1;if(y&&m>0)for(var D=0;D<m;D++)if(P(d,p,(s=b[D])-n,r-n,e)){u["_"+s].splice(1,2,r,3),_||(u["_"+s][0]=""),a=r,c=new g(t.left[s],t.right[a]),t.push(c,a),b.splice(D,1),w=!0;break}w||(u[r]=[o[r]])}else s=v.indices1[x]+n,a=v.indices2[x]+n,c=new g(t.left[s],t.right[a]),t.push(c,a)}t.setResult(u).exit()}else{for(u=u||{_t:"a"},r=n;r<l-i;r++)u["_"+r]=[f[r],0,0];t.setResult(u).exit()}else{if(l===h)return void t.setResult(void 0).exit();for(u=u||{_t:"a"},r=n;r<h-i;r++)u[r]=[o[r]];t.setResult(u).exit()}}};T.filterName="arrays";var I=function(t,e){return t-e},N=function(t){return function(e,n){return e[t]-n[t]}},S=function(t){if(t.nested&&"a"===t.delta._t){var e=void 0,n=void 0,i=t.delta,r=t.left,s=[],a=[],f=[];for(e in i)if("_t"!==e)if("_"===e[0]){if(0!==i[e][2]&&3!==i[e][2])throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+i[e][2]);s.push(parseInt(e.slice(1),10))}else 1===i[e].length?a.push({index:parseInt(e,10),value:i[e][0]}):f.push({index:parseInt(e,10),delta:i[e]});for(e=(s=s.sort(I)).length-1;e>=0;e--){var o=i["_"+(n=s[e])],l=r.splice(n,1)[0];3===o[2]&&a.push({index:o[1],value:l})}var h=(a=a.sort(N("index"))).length;for(e=0;e<h;e++){var c=a[e];r.splice(c.index,0,c.value)}var u=f.length,d=void 0;if(u>0)for(e=0;e<u;e++){var p=f[e];d=new v(t.left[p.index],p.delta),t.push(d,p.index)}t.children?t.exit():t.setResult(t.left).exit()}};S.filterName="arrays";var B=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,n=void 0,i=0;i<e;i++)n=t.children[i],t.set(n.childName,n.result);t.setResult(t.left).exit()}};B.filterName="arraysCollectChildren";var U=function(t){if(t.nested){if("a"===t.delta._t){var e=void 0,n=void 0;for(e in t.delta)"_t"!==e&&(n=new b(t.delta[e]),t.push(n,e));t.exit()}}else 3===t.delta[2]&&(t.newName="_"+t.delta[1],t.setResult([t.delta[0],parseInt(t.childName.substr(1),10),3]).exit())};U.filterName="arrays";var F=function(t,e,n){if("string"==typeof e&&"_"===e[0])return parseInt(e.substr(1),10);if(O(n)&&0===n[2])return"_"+e;var i=+e;for(var r in t){var s=t[r];if(O(s))if(3===s[2]){var a=parseInt(r.substr(1),10),f=s[1];if(f===+e)return a;a<=i&&f>i?i++:a>=i&&f<i&&i--}else if(0===s[2]){parseInt(r.substr(1),10)<=i&&i++}else 1===s.length&&r<=i&&i--}return i};function q(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,n=void 0,i={_t:"a"},r=0;r<e;r++){var s=(n=t.children[r]).newName;void 0===s&&(s=F(t.delta,n.childName,n.result)),i[s]!==n.result&&(i[s]=n.result)}t.setResult(i).exit()}}q.filterName="arraysCollectChildren";var H=function(t){t.left instanceof Date?(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?t.setResult([t.left,t.right]):t.setResult(void 0):t.setResult([t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};H.filterName="dates";var L=null,G=function(t){if(!L){var e=void 0;if("undefined"!=typeof diff_match_patch)e="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(r.a)try{e=r.a&&new r.a}catch(t){e=null}if(!e){if(!t)return null;var n=new Error("text diff_match_patch library not found");throw n.diff_match_patch_not_found=!0,n}L={diff:function(t,n){return e.patch_toText(e.patch_make(t,n))},patch:function(t,n){for(var i=e.patch_apply(e.patch_fromText(n),t),r=0;r<i[1].length;r++){if(!i[1][r])new Error("text patch failed").textPatchFailed=!0}return i[0]}}}return L},$=function(t){if("string"===t.leftType){var e=t.options&&t.options.textDiff&&t.options.textDiff.minLength||60;if(t.left.length<e||t.right.length<e)t.setResult([t.left,t.right]).exit();else{var n=G();if(n){var i=n.diff;t.setResult([i(t.left,t.right),0,2]).exit()}else t.setResult([t.left,t.right]).exit()}}};$.filterName="texts";var V=function(t){if(!t.nested&&2===t.delta[2]){var e=G(!0).patch;t.setResult(e(t.left,t.delta[0])).exit()}};V.filterName="texts";var z=function(t){var e,n=void 0,i=void 0,r=void 0,s=void 0,a=null,f=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(n=0,e=(i=t.split("\n")).length;n<e;n++){var o=(r=i[n]).slice(0,1);"@"===o?(a=f.exec(r),i[n]="@@ -"+a[3]+","+a[4]+" +"+a[1]+","+a[2]+" @@"):"+"===o?(i[n]="-"+i[n].slice(1),"+"===i[n-1].slice(0,1)&&(s=i[n],i[n]=i[n-1],i[n-1]=s)):"-"===o&&(i[n]="+"+i[n].slice(1))}return i.join("\n")},J=function(t){t.nested||2===t.delta[2]&&t.setResult([z(t.delta[0]),0,2]).exit()};J.filterName="texts";var Z=function(){function t(e){a(this,t),this.processor=new h(e),this.processor.pipe(new c("diff").append(w,_,H,$,D,T).shouldHaveResult()),this.processor.pipe(new c("patch").append(R,B,m,V,k,S).shouldHaveResult()),this.processor.pipe(new c("reverse").append(A,q,x,J,M,U).shouldHaveResult())}return f(t,[{key:"options",value:function(){var t;return(t=this.processor).options.apply(t,arguments)}},{key:"diff",value:function(t,e){return this.processor.process(new g(t,e))}},{key:"patch",value:function(t,e){return this.processor.process(new v(t,e))}},{key:"reverse",value:function(t){return this.processor.process(new b(t))}},{key:"unpatch",value:function(t,e){return this.patch(t,this.reverse(e))}},{key:"clone",value:function(t){return p(t)}}]),t}();var Q=void 0;var X={DiffPatcher:Z,create:function(t){return new Z(t)},dateReviver:function(t,e){var n=void 0;return"string"==typeof e&&(n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+-])(\d{2}):(\d{2}))$/.exec(e))?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6],+(n[7]||0))):e},diff:function(){return Q||(Q=new Z),Q.diff.apply(Q,arguments)},patch:function(){return Q||(Q=new Z),Q.patch.apply(Q,arguments)},unpatch:function(){return Q||(Q=new Z),Q.unpatch.apply(Q,arguments)},reverse:function(){return Q||(Q=new Z),Q.reverse.apply(Q,arguments)}},K=n(0),W=n.n(K);const Y=Array.isArray,tt=function(t){return"string"==typeof t||t instanceof String},et=function(t){return void 0===t};function nt(t){return Y(t)?t:et(t)?[]:[t]}function it(t){return W()(t)||Y(t)?JSON.parse(JSON.stringify(t),X.dateReviver):t}function rt(t){return it(t)}function st(t,e){const n=!t;return Y(e)&&t||W()(e)&&n}function at(t){if(et(t))return;const e=t.match(/\[(\d+)\]/);return null!==e?e[1]:void 0}function ft(t,e,n){const i=Array.from(t).splice(e+1);if(!i.length)return n;const r=at(i[0])?[]:{};return i.reduce((t,e,r)=>{const s=at(e);if(s&&(e=s),i.length-1===r)t[e]=n;else{const n=i[r+1].match(/\[\d+\]/);t[e]=n?[]:{}}return t[e]},r),rt(r)}function ot(){throw new Error("stop")}function lt(){throw new Error("done")}function ht(){throw new Error("it should not happen, it might be a bug")}function ct(t,e,{path:n="",value:i,insertArray:r=!1}){const s=it(i),a=Y(n)?n:function(t){return t.toString().replace(/\s/g).split(/\.|(?=\[)/)}(n),f=a.map(t=>Boolean(t.toString().match(/\[(\d+)\]/)));const o=function(t){return t.map(t=>at(t)||t)}(a);let l=e,h={};try{o.reduce((e,n,i)=>{function h(){const r=it(l);r[n]=ft(a,i,s);const f=t.diff(l,rt(r));Object.assign(e,f)}function c([e,n]){return tt(e)&&tt(n)||W()(e)&&W()(n)||Y(e)&&Y(n)?t.diff(e,n):[e,n]}const u=it(l[n]),d=f[i],p=f[i+1],g=i===o.length-1;return d?g?et(u)?et(s)?ht():Y(l)?h():ht():et(s)?(e[n="_"+n]=[u,0,0],ut(e)):(u===s?ot():e[n]=r?[s]:c([u,s]),ut(e)):et(u)?et(s)?ht():(Y(l)&&h(),lt()):et(s)?st(p,u)?(e[n]={},ut(e)):ot():st(p,u)?e[n]={}:(u===s?ot():Y(l)?(e[n]=c([u,ft(a,i,s)]),ut(e)):ht(),lt()):g?et(u)?et(s)?ot():e[n]=[s]:et(s)?e[n]=[u,0,0]:u===s?ot():Y(u)&&Y(s)?e[n]=[u,s]:e[n]=c([u,s]):et(u)?u===s||et(s)?ot():(e[n]=c([u,ft(a,i,s)]),lt()):st(p,u)?e[n]={}:u===s||et(s)?ot():(e[n]=c([u,ft(a,i,s)]),lt()),l=l[n.replace(/^_/,"")],e[n]},h)}catch(t){if("stop"===t.message)h=void 0;else if("done"!==t.message)throw t}return h}function ut(t){t._t="a"}let dt=null,pt=null;const gt=new class{constructor(){this.set=new Set}reset(){this.set=new Set}add(t){var e;this.set.add((e=t,Object.keys(e)[0]))}filter(t){const e={};return this.set.forEach(n=>{e[n]=t&&t[n]}),e}};class vt{constructor({tree:t={},treeFilter:e=null,steps:n=50,backUpDeltas:i=[],callback:r={},setter:s,deleter:a}={}){this.deltas=i,this.currentIndex=0,this.tree=t,this.steps=n,this.treeFilter=e,this.jsonDiffPatch=X.create({setter:s,deleter:a}),this.callback={onTreeChanged(){},onDeltasChanged(){},onDeltasCleaned(){},beforeUndo(){},beforeRedo(){},onUndid(){},onRedid(){},...r}}createDelta(t){return ct(this.jsonDiffPatch,this.tree,t)}patch(t){this.jsonDiffPatch.patch(this.tree,t)}recordsMerge(t){this.debounceExecute();const e=this.deltas.length,n=this.callback.onDeltasChanged;this.callback.onDeltasChanged=function(){},t();const i=this.deltas.length-e;if(i>1){let t=[];for(let e=0;e<i;e++)t=t.concat(this.deltas[e]);this.deltas=[t,...this.deltas.slice(i)]}this.callback.onDeltasChanged=n,this.callback.onDeltasChanged(this)}delete(t){return(t=nt(t)).forEach(t=>t.value=void 0),this.record(t)}debounceRecord(t,e=100){(t=nt(t)).length&&t.forEach(t=>{if(dt){const{timerId:t}=dt;t&&(clearTimeout(t),dt.timerId=null)}dt?dt.timerId=setTimeout(this.debounceExecute.bind(this),e):dt={snapshotTree:this.treeFilter?this.treeFilter(this.tree):it(this.tree),timerId:setTimeout(this.debounceExecute.bind(this),e)};const n=this.createDelta(t);n&&(gt.add(n),this.patch(n),this.callback.onTreeChanged(n))})}debounceExecutedCallback(t){return new Promise((e,n)=>{t(),pt=e})}debounceExecute(){if(!dt)return;const{timerId:t,snapshotTree:e}=dt;clearTimeout(t);const n=this.treeFilter?this.treeFilter(this.tree):it(this.tree),i=this.jsonDiffPatch.diff(gt.filter(e),gt.filter(n));if(gt.reset(),i){this._cleanOldUndo();const t=this.groupBindTime([i]);this.deltas.unshift(t),this.callback.onDeltasChanged(this)}pt&&(pt(i),pt=null),dt=null}groupBindTime(t){return{group:t,createdAt:+new Date}}irreversibleRecord(t){this.record(t),this.deltas[0].irreversible=!0}softRecord(t){return this.debounceExecute(),(t=nt(t)).forEach(t=>{const e=this.createDelta(t);e&&this.patch(e)}),this.tree}record(t){this.debounceExecute();const e=[];return(t=nt(t)).forEach(t=>{const n=this.createDelta(t);n&&(this.callback.onTreeChanged(n),this._cleanOldUndo(),this.deltas.length>this.steps&&e.pop(),e.unshift(n),this.patch(n))}),e.length&&(this.deltas.unshift(this.groupBindTime(e)),this.callback.onDeltasChanged(this)),this.tree}snapShot(t){this.debounceExecute();const e=[],n=this.jsonDiffPatch.diff(this.tree,t);return n&&(this.tree=t,e.push(n)),e.length&&this.deltas.unshift(this.groupBindTime(e)),this.tree}_cleanOldUndo(){this.currentIndex>0&&(this.deltas=this.deltas.slice(this.currentIndex),this.currentIndex=0)}get canNotRedo(){return this.currentIndex<1}getNextRedoDeltaGroup(){if(this.canNotRedo)return;this.currentIndex--;const t=this.deltas[this.currentIndex];return t.irreversible?this.getNextRedoDeltaGroup():t.group.reverse()}redo(){this.debounceExecute();const t=this.getNextRedoDeltaGroup();if(t)return this.callback.beforeRedo(t),t.forEach(t=>{this.patch(t),this.callback.onTreeChanged(t)}),this.callback.onRedid(t),this.tree}get canNotUndo(){const t=this.deltas.length-1;return this.currentIndex>t}getNextUndoDeltaGroup(){if(this.canNotUndo)return;const t=this.deltas[this.currentIndex];return this.currentIndex++,t.irreversible?this.getNextUndoDeltaGroup():t.group}undo(){this.debounceExecute();const t=this.getNextUndoDeltaGroup();if(t)return this.callback.beforeUndo(t),t.forEach(t=>{this.jsonDiffPatch.unpatch(this.tree,t),this.callback.onTreeChanged(t)}),this.callback.onUndid(t),this.tree}cleanDeltas(t){this.debounceExecute(),this.deltas.forEach(({group:e},n)=>{e.forEach((n,i)=>{t(n)&&(e[i]=null)});const i=e.filter(t=>t);this.deltas[n]=this.groupBindTime(i)});let e=0;for(let t=0;t===this.currentIndex;t++)this.deltas[t]&&this.deltas[t].group.length&&e++;this.deltas=this.deltas.filter(({group:t})=>t.length),this.currentIndex=e,this.callback.onDeltasCleaned(this)}}}]).default}));